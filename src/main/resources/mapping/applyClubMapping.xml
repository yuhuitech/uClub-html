<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="DAO.DaoInterface">

    <resultMap id="getApplyStuInfoMap" type="model.Student">
        <result property="StuNo" column="StuNo"/>
        <result property="StuName" column="StuName"/>
        <result property="college" column="college"/>
    </resultMap>


    <resultMap id="applyClubMap" type="model.Apply">
        <result property="ApplyNo" column="ApplyNo"/>
        <result property="ClubName" column="ClubName"/>
        <result property="ClubType" column="ClubType"/>
        <result property="ClubSize" column="ClubSize"/>
        <result property="ClubInfo" column="ClubInfo"/>
        <result property="ApplyTime" column="ApplyTime"/>
        <result property="status" column="status"/>
    </resultMap>

    <select id="getStudentName" resultType="String">
        SELECT StuName FROM Student
        <where>
            StuNo = '${StuNo}'
        </where>
    </select>

    <select id="getCollege" resultType="String">
        SELECT college FROM Student
        <where>
            StuNo = '${StuNo}'
        </where>
    </select>

    <insert id="addClubApply">
        insert into uclub.Create_apply(ApplyNo, ClubName, ClubType, ClubInfo, StuNo, ClubSize, ApplyTime)
        values(#{ApplyNo}, #{ClubName}, #{ClubType}, #{ClubInfo}, #{StuNo},#{ClubSize},#{ApplyTime, jdbcType=TIMESTAMP})
    </insert>

    <insert id="addClub">
    insert into uclub.Create_apply(ClubNo, ClubName, ClubType, ClubInfo, Res_url,status, CreateTime)
    values(#{ClubNo}, #{ClubName}, #{ClubType}, #{ClubInfo}, #{Res_url},#{status},#{CreateTime, jdbcType=TIMESTAMP})
</insert>


    <select id="getClubApply" resultType="String" resultMap="applyClubMap">
        SELECT * FROM Create_apply
        <where>
            StuNo = '${StuNo}'
        </where>
    </select>


</mapper>